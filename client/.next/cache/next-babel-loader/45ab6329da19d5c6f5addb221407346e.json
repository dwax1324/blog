{"ast":null,"code":"import { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { createWithApollo } from \"./createWithApollo\";\n\nconst createClient = ctx => {\n  var _ctx$req;\n\n  return new ApolloClient({\n    uri: process.env.NEXT_PUBLIC_API_URL,\n    credentials: \"include\",\n    headers: {\n      cookie: (true ? ctx === null || ctx === void 0 ? void 0 : (_ctx$req = ctx.req) === null || _ctx$req === void 0 ? void 0 : _ctx$req.headers.cookie : undefined) || \"\"\n    },\n    cache: new InMemoryCache({})\n  });\n};\n\nexport const withApollo = createWithApollo(createClient);","map":{"version":3,"sources":["/home/develop/blog/client/utils/withApollo.ts"],"names":["ApolloClient","InMemoryCache","createWithApollo","createClient","ctx","uri","process","env","NEXT_PUBLIC_API_URL","credentials","headers","cookie","req","undefined","cache","withApollo"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,aAAvB,QAA4C,gBAA5C;AAEA,SAASC,gBAAT,QAAiC,oBAAjC;;AAEA,MAAMC,YAAY,GAAIC,GAAD;AAAA;;AAAA,SACnB,IAAIJ,YAAJ,CAAiB;AACfK,IAAAA,GAAG,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADF;AAEfC,IAAAA,WAAW,EAAE,SAFE;AAGfC,IAAAA,OAAO,EAAE;AACPC,MAAAA,MAAM,EACJ,CAAC,OACGP,GADH,aACGA,GADH,mCACGA,GAAG,CAAEQ,GADR,6CACG,SAAUF,OAAV,CAAkBC,MADrB,GAEGE,SAFJ,KAEkB;AAJb,KAHM;AASfC,IAAAA,KAAK,EAAE,IAAIb,aAAJ,CAAkB,EAAlB;AATQ,GAAjB,CADmB;AAAA,CAArB;;AAaA,OAAO,MAAMc,UAAU,GAAGb,gBAAgB,CAACC,YAAD,CAAnC","sourcesContent":["import { ApolloClient, InMemoryCache } from \"@apollo/client\";\nimport { NextPageContext } from \"next\";\nimport { createWithApollo } from \"./createWithApollo\";\n\nconst createClient = (ctx: NextPageContext) =>\n  new ApolloClient({\n    uri: process.env.NEXT_PUBLIC_API_URL as string,\n    credentials: \"include\",\n    headers: {\n      cookie:\n        (typeof window === \"undefined\"\n          ? ctx?.req?.headers.cookie\n          : undefined) || \"\",\n    },\n    cache: new InMemoryCache({}),\n  });\n\nexport const withApollo = createWithApollo(createClient);\n"]},"metadata":{},"sourceType":"module"}