{"ast":null,"code":"var __jsx = React.createElement;\nimport { Form, Formik } from \"formik\";\nimport Router from \"next/router\";\nimport React, { useRef } from \"react\";\nimport { useLoginMutation } from \"../generated/graphql\";\nimport { withApollo } from \"../utils/withApollo\";\n\nconst admin = () => {\n  const router = Router;\n  const [login] = useLoginMutation();\n  const idEl = useRef(null);\n  const passwordEl = useRef(null);\n\n  let handleSubmit = async () => {\n    // e.preventDefault();\n    const id = idEl.current.value;\n    const password = passwordEl.current.value;\n    const data = await login({\n      variables: {\n        id: id,\n        password: password\n      }\n    });\n    if (data.data.login) router.push(\"/\");else alert(\"authentication failed\");\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Formik, {\n    initialValues: {\n      id: \"\",\n      password: \"\"\n    },\n    onSubmit: handleSubmit\n  }, __jsx(Form, null, __jsx(\"input\", {\n    name: \"id\",\n    ref: idEl,\n    type: \"text\"\n  }), __jsx(\"input\", {\n    name: \"password\",\n    ref: passwordEl,\n    type: \"password\"\n  }), __jsx(\"button\", {\n    type: \"submit\"\n  }, \"submit\"))));\n};\n\nexport default withApollo({\n  ssr: false\n})(admin);\n3;","map":null,"metadata":{},"sourceType":"module"}